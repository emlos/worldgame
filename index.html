<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Game tests</title>
        <script>
            const debug = false;
        </script>
        <script type="module" src="/src/classes/classes.js"></script>
        <script type="module" src="/src/data/data.js"></script>
        <script type="module" src="/src/shared/modules.js"></script>
    </head>
    <style>
        .columns {
            display: flex;
            flex-direction: row;
            gap: 2rem;
        }
    </style>

    <body>
        <div class="columns">
            <div class="column">
                <h1>Game tests</h1>
                <h2>Player Tests</h2>
                <ul>
                    <li>
                        <a href="./tests/player/player_data_full.html"
                            >complete player data display</a
                        >
                    </li>
                </ul>
                <h2>NPC Tests</h2>
                <ul>
                    <li>
                        <a href="./tests/npc/npc_random_data_full.html"
                            >complete random npc data display</a
                        >
                    </li>
                    <li>
                        <a href="./tests/npc/world_map_single.html">single npc map interaction</a>
                    </li>
                    <li>
                        <a href="./tests/npc/world_map_multiple_npc.html"
                            >multiple npc map interaction</a
                        >
                    </li>
                </ul>
                <h3>npc schedule tests</h3>
                <ul>
                    <li>
                        <a href="./tests/npc/npc_schedule_coverage.html"
                            >rule inspector for npc schedules</a
                        >
                    </li>
                    <li><a href="./tests/npc/npc_schedule_fuzz.html">schedule fuzz tests</a></li>
                </ul>
                <h2>World Tests</h2>
                <ul>
                    <li>
                        <a href="./tests/world/world_random_data_full.html"
                            >complete world random data display</a
                        >
                    </li>
                    <li><a href="./tests/world/world_map_full.html">in depth map testing</a></li>
                </ul>

                <h2>Scene Tests</h2>
                <ul>
                    <li><a href="./tests/scenes/scene_player.html">scene player (twine-like)</a></li>
                    <li><a href="./tests/scenes/i18n_checker.html">internationalisation cohesion checker</a></li>
                </ul>
            </div>

            <div class="column">
                <h1>Game docs</h1>
                <h2>Npcs</h2>
                <ul>
                    <li><a href="./docs/npc/doc_npc_schedule.html">Npc scheduler and rules</a></li>
                </ul>
                <h2>Worldmap</h2>
                <ul>
                    <li>
                        <a href="./docs/world/map_registry_browser.html">map registry viewver</a>
                    </li>
                    <li>
                        <a href="./docs/world/doc_map_generation.html">map generation and rules</a>
                    </li>
                    <li>
                        <a href="./docs/game/doc_scene_syntax.html">Scene structure and writing</a>
                    </li>
                </ul>
            </div>

            <div class="column">
                <h1>Writer tools</h1>
                <h2>Scenes</h2>
                <ul>
                    <li>
                        <a href="./docs/game/scene_writer.html">Scene writer (build scene + i18n entries)</a>
                    </li>
                </ul>
            </div>
        </div>
        <section id="changelog">
            <h2>Recent changes</h2>
            <ul id="commits"></ul>
        </section>
        <script>
            (async function () {
                try {
                    const res = await fetch("./commits.json", { cache: "no-store" });
                    const commits = await res.json();
                    const list = document.getElementById("commits");
                    list.innerHTML = commits
                        .slice(0, 50)
                        .map(
                            (c) => `
        <li>
          <a href="https://github.com/emlos/worldgame/commit/${c.sha}">
            <code>${c.short}</code>
          </a> â€” ${c.message}
          <div style="opacity:.7">${c.author} - ${new Date(c.date).toLocaleString()}</div>
        </li>
      `
                        )
                        .join("");
                } catch (e) {
                    document.getElementById("commits").textContent = "No changelog found.";
                }
            })();
        </script>
    </body>
</html>
